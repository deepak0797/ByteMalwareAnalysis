import java.util.*;
import java.io.File;
import java.lang.Thread;

import soot.*;
import soot.BodyTransformer;
import soot.PackManager;
import soot.Transform;
import soot.SootClass;
import soot.SootMethod;
import soot.Unit;
import soot.jimple.InvokeExpr;
import soot.jimple.Jimple;
import soot.jimple.Stmt;
import soot.jimple.toolkits.callgraph.CallGraph;
import soot.jimple.toolkits.callgraph.ReachableMethods;
import soot.options.Options;
import soot.toolkits.graph.ExceptionalUnitGraph;
import soot.toolkits.graph.UnitGraph;
import soot.toolkits.scalar.ArraySparseSet;
import soot.toolkits.scalar.SmartLocalDefs;
import soot.util.queue.QueueReader;
import soot.toolkits.scalar.SimpleLiveLocals;
import soot.jimple.StaticInvokeExpr;
import java.util.Map;

public class ByteBodyTransformer extends BodyTransformer {

    public ByteBodyTransformer(){super();}

    @Override
    protected void internalTransform(Body body,String s, Map<String, String> map){

        ByteForwardFlowAnalysis bFlowAnalysis=new ByteForwardFlowAnalysis(new ExceptionalUnitGraph(body), body);
        SootClass mainclass=Scene.v().getMainClass();
        System.out.println(mainclass);
		CallGraph cg=Scene.v().getCallGraph();

		System.out.println("CALL GRAPH-----------------"+cg);
    }
    
}
